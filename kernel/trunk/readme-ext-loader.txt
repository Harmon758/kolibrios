При компиляции ядра можно задать - например, в lang.inc, - дополнительный
параметр extended_primary_loader=1; он переключает ядро на альтернативный
способ загрузки. Загрузка несовместима
с основой версией ядра; требуется специальный первичный загрузчик, существующие
собраны в папке bootloader/extended_primary_loader.
Есть варианты загрузки с FAT12/FAT16/FAT32/ISO,
есть вариант загрузчика, встраивающегося в загрузку Windows. Встраивание
в GRUB аналогично описанному для основного способа загрузки -
последним загрузчиком в цепочке
при этом оказывается тот, который установлен в образе дискеты FAT12.

При загрузке поддерживается опрос параметров из файла config.ini,
но не поддерживается сохранение выбранных параметров. Файл config.ini
ищется рядом с первичным загрузчиком, как и ядро kernel.mnt; в случае
загрузчика с дискеты эти файлы располагаются на самой дискете,
в случае других загрузчиков - рядом с первичным загрузчиком вне образа.

Если config.ini не найден, используются умолчальные значения. Если
config.ini найден, то он разбивается на строчки, строчки должны иметь
вид <параметр>=<значение>, перед параметром и вокруг знака равенства
могут быть пробелы, всё, что идёт в строке после значения, игнорируется.
Параметры чувствительны к регистру символов.
Строки, не имеющие такого вида, а также строки, в которых параметр неизвестен,
а также строки, в которых значение недопустимо, игнорируются.

Все числа должны быть целыми неотрицательными, записанными в десятичной
системе счисления. Булевские значения кодируются следующим образом:
0=off=no соответствует выключенному параметру, 1=on=yes - включённому.

Известные параметры:

timeout=<число секунд> задаёт время ожидания в экране выбора параметров.
Если таймаут больше 9, используется значение 9. Значение по умолчанию 5.

resolution=<ширина>*<высота> или <ширина>x<высота> задаёт желаемое
разрешение графического режима. Если такого графического режима,
устраивающего систему, не найдено, параметр игнорируется. По умолчанию
пробуются последовательно разрешения 1024*768, 800*600, 640*480.

vbemode=<номер видеорежима VBE> задаёт желаемый графический режим.
Если такой режим не существует или не устраивает систему, параметр
игнорируется. Параметр более приоритетен, чем resolution. Умолчального
значения нет.

vrr=<включить VRR> - булевский параметр. Умолчальное значение 0.

biosdisks=<включить доступ к дискам через BIOS> - булевский параметр.
Умолчальное значение 1.

imgfrom=<источник рамдиска>. 1 - грузить дискету, 2 - грузить файл
kolibri.img, находящийся рядом с первичным загрузчиком. Умолчальное
значение 1 при загрузке с дискеты и 2 в противном случае.
