;include 'load_lib.mac';include 'mem.inc';include 'dll.inc';@use_library_mem mem.Alloc,mem.Free,mem.ReAlloc,dll.Loadhead_f_i:head_f_l db 'Системная ошибка',0system_dir_0 db '/sys/lib/'lib_name_0 db 'proc_lib.obj',0err_message_found_lib_0 db 'Не найдена библиотека ',39,'proc_lib.obj',39,0err_message_import_0 db 'Ошибка при импорте библиотеки ',39,'proc_lib.obj',39,0system_dir_1 db '/sys/lib/'lib_name_1 db 'libimg.obj',0err_message_found_lib_1 db 'Не найдена библиотека ',39,'libimg.obj',39,0err_message_import_1 db 'Ошибка при импорте библиотеки ',39,'libimg.obj',39,0system_dir_2 db '/sys/lib/'lib_name_2 db 'box_lib.obj',0err_message_found_lib_2 db 'Не найдена библиотека ',39,'box_lib.obj',39,0err_message_import_2 db 'Ошибка при импорте библиотеки ',39,'box_lib.obj',39,0system_dir_7 db '/sys/lib/'lib_name_7 db 'buf2d.obj',0err_msg_found_lib_7 db 'Не найдена библиотека ',39,'buf2d.obj',39,0err_msg_import_7 db 'Ошибка при импорте библиотеки ',39,'buf2d',39,0l_libs_start:	lib0 l_libs lib_name_0, sys_path, file_name, system_dir_0,\		err_message_found_lib_0, head_f_l, proclib_import,err_message_import_0, head_f_i	lib1 l_libs lib_name_1, sys_path, file_name, system_dir_1,\		err_message_found_lib_1, head_f_l, import_libimg, err_message_import_1, head_f_i	lib2 l_libs lib_name_2, sys_path, file_name, system_dir_2,\		err_message_found_lib_2, head_f_l, import_box_lib, err_message_import_2, head_f_i	lib_7 l_libs lib_name_7, sys_path, library_path, system_dir_7,\		err_msg_found_lib_7,head_f_l,import_buf2d,err_msg_import_7,head_f_il_libs_end:align 4proclib_import: ;описание экспортируемых функций	OpenDialog_Init dd aOpenDialog_Init	OpenDialog_Start dd aOpenDialog_Startdd 0,0	aOpenDialog_Init db 'OpenDialog_init',0	aOpenDialog_Start db 'OpenDialog_start',0align 4import_libimg:	dd alib_init1	img_is_img  dd aimg_is_img	img_info    dd aimg_info	img_from_file dd aimg_from_file	img_to_file dd aimg_to_file	img_from_rgb dd aimg_from_rgb	img_to_rgb  dd aimg_to_rgb	img_to_rgb2 dd aimg_to_rgb2	img_decode  dd aimg_decode	img_encode  dd aimg_encode	img_create  dd aimg_create	img_destroy dd aimg_destroy	img_destroy_layer dd aimg_destroy_layer	img_count   dd aimg_count	img_lock_bits dd aimg_lock_bits	img_unlock_bits dd aimg_unlock_bits	img_flip    dd aimg_flip	img_flip_layer dd aimg_flip_layer	img_rotate  dd aimg_rotate	img_rotate_layer dd aimg_rotate_layer	img_draw    dd aimg_draw	dd 0,0	alib_init1   db 'lib_init',0	aimg_is_img  db 'img_is_img',0 ;определяет по данным, может ли библиотека сделать из них изображение	aimg_info    db 'img_info',0	aimg_from_file db 'img_from_file',0	aimg_to_file db 'img_to_file',0	aimg_from_rgb db 'img_from_rgb',0	aimg_to_rgb  db 'img_to_rgb',0 ;преобразование изображения в данные RGB	aimg_to_rgb2 db 'img_to_rgb2',0	aimg_decode  db 'img_decode',0 ;автоматически определяет формат графических данных	aimg_encode  db 'img_encode',0	aimg_create  db 'img_create',0	aimg_destroy db 'img_destroy',0	aimg_destroy_layer db 'img_destroy_layer',0	aimg_count   db 'img_count',0	aimg_lock_bits db 'img_lock_bits',0	aimg_unlock_bits db 'img_unlock_bits',0	aimg_flip    db 'img_flip',0	aimg_flip_layer db 'img_flip_layer',0	aimg_rotate  db 'img_rotate',0	aimg_rotate_layer db 'img_rotate_layer',0	aimg_draw    db 'img_draw',0align 4import_box_lib:	dd alib_init2 ;функция запускается макросом 1 раз при подключении бибилиотеки, потому в программе метка на нее не нужна	edit_box_draw  dd aEdit_box_draw	edit_box_key	 dd aEdit_box_key	edit_box_mouse dd aEdit_box_mouse;	version_ed     dd aVersion_ed	check_box_draw  dd aCheck_box_draw	check_box_mouse dd aCheck_box_mouse;	version_ch      dd aVersion_ch;	option_box_draw dd aOption_box_draw;	option_box_mouse dd aOption_box_mouse;	version_op dd aVersion_op	scrollbar_ver_draw  dd aScrollbar_ver_draw;	scrollbar_ver_mouse dd aScrollbar_ver_mouse	scrollbar_hor_draw  dd aScrollbar_hor_draw;	scrollbar_hor_mouse dd aScrollbar_hor_mouse;	version_scrollbar   dd aVersion_scrollbar	tl_data_init dd sz_tl_data_init	tl_data_clear dd sz_tl_data_clear	tl_info_clear dd sz_tl_info_clear	tl_key dd sz_tl_key	tl_mouse dd sz_tl_mouse	tl_draw dd sz_tl_draw	tl_info_undo dd sz_tl_info_undo	tl_info_redo dd sz_tl_info_redo	tl_node_add dd sz_tl_node_add	tl_node_set_data dd sz_tl_node_set_data	tl_node_get_data dd sz_tl_node_get_data	tl_node_delete dd sz_tl_node_delete	tl_cur_beg dd sz_tl_cur_beg	tl_cur_next dd sz_tl_cur_next	tl_cur_perv dd sz_tl_cur_perv	tl_node_close_open dd sz_tl_node_close_open	tl_node_lev_inc dd sz_tl_node_lev_inc	tl_node_lev_dec dd sz_tl_node_lev_dec	tl_node_move_up dd sz_tl_node_move_up	tl_node_move_down dd sz_tl_node_move_down	tl_save_mem dd sz_tl_save_mem	tl_load_mem dd sz_tl_load_mem	tl_get_mem_size dd sz_tl_get_mem_size	tl_node_poi_get_info dd sz_tl_node_poi_get_info	tl_node_poi_get_next_info dd sz_tl_node_poi_get_next_info	tl_node_poi_get_data dd sz_tl_node_poi_get_data	dd 0,0	alib_init2 db 'lib_init',0	aEdit_box_draw  db 'edit_box',0	aEdit_box_key   db 'edit_box_key',0	aEdit_box_mouse db 'edit_box_mouse',0;	aVersion_ed     db 'version_ed',0	aCheck_box_draw  db 'check_box_draw',0	aCheck_box_mouse db 'check_box_mouse',0;	aVersion_ch      db 'version_ch',0;	aOption_box_draw db 'option_box_draw',0;	aOption_box_mouse db 'option_box_mouse',0;	aVersion_op db 'version_op',0	aScrollbar_ver_draw  db 'scrollbar_v_draw',0;	aScrollbar_ver_mouse db 'scrollbar_v_mouse',0	aScrollbar_hor_draw  db 'scrollbar_h_draw',0;	aScrollbar_hor_mouse db 'scrollbar_h_mouse',0;	aVersion_scrollbar   db 'version_scrollbar',0	sz_tl_data_init db 'tl_data_init',0	sz_tl_data_clear db 'tl_data_clear',0	sz_tl_info_clear db 'tl_info_clear',0	sz_tl_key db 'tl_key',0	sz_tl_mouse db 'tl_mouse',0	sz_tl_draw db 'tl_draw',0	sz_tl_info_undo db 'tl_info_undo',0	sz_tl_info_redo db 'tl_info_redo',0	sz_tl_node_add db 'tl_node_add',0	sz_tl_node_set_data db 'tl_node_set_data',0	sz_tl_node_get_data db 'tl_node_get_data',0	sz_tl_node_delete db 'tl_node_delete',0	sz_tl_cur_beg db 'tl_cur_beg',0	sz_tl_cur_next db 'tl_cur_next',0	sz_tl_cur_perv db 'tl_cur_perv',0	sz_tl_node_close_open db 'tl_node_close_open',0	sz_tl_node_lev_inc db 'tl_node_lev_inc',0	sz_tl_node_lev_dec db 'tl_node_lev_dec',0	sz_tl_node_move_up db 'tl_node_move_up',0	sz_tl_node_move_down db 'tl_node_move_down',0	sz_tl_save_mem db 'tl_save_mem',0	sz_tl_load_mem db 'tl_load_mem',0	sz_tl_get_mem_size db 'tl_get_mem_size',0	sz_tl_node_poi_get_info db 'tl_node_poi_get_info',0	sz_tl_node_poi_get_next_info db 'tl_node_poi_get_next_info',0	sz_tl_node_poi_get_data db 'tl_node_poi_get_data',0align 4import_buf2d:	init dd sz_init	buf2d_create dd sz_buf2d_create	buf2d_create_f_img dd sz_buf2d_create_f_img	buf2d_clear dd sz_buf2d_clear	buf2d_draw dd sz_buf2d_draw	buf2d_delete dd sz_buf2d_delete	buf2d_line dd sz_buf2d_line	buf2d_rect_by_size dd sz_buf2d_rect_by_size	buf2d_filled_rect_by_size dd sz_buf2d_filled_rect_by_size	buf2d_circle dd sz_buf2d_circle	buf2d_img_hdiv2 dd sz_buf2d_img_hdiv2	buf2d_img_wdiv2 dd sz_buf2d_img_wdiv2	buf2d_conv_24_to_8 dd sz_buf2d_conv_24_to_8	buf2d_conv_24_to_32 dd sz_buf2d_conv_24_to_32	buf2d_bit_blt dd sz_buf2d_bit_blt	buf2d_bit_blt_transp dd sz_buf2d_bit_blt_transp	buf2d_bit_blt_alpha dd sz_buf2d_bit_blt_alpha	buf2d_curve_bezier dd sz_buf2d_curve_bezier	buf2d_convert_text_matrix dd sz_buf2d_convert_text_matrix	buf2d_draw_text dd sz_buf2d_draw_text	buf2d_crop_color dd sz_buf2d_crop_color	buf2d_offset_h dd sz_buf2d_offset_h	buf2d_flood_fill dd sz_buf2d_flood_fill	buf2d_set_pixel dd sz_buf2d_set_pixel	dd 0,0	sz_init db 'lib_init',0	sz_buf2d_create db 'buf2d_create',0	sz_buf2d_create_f_img db 'buf2d_create_f_img',0	sz_buf2d_clear db 'buf2d_clear',0	sz_buf2d_draw db 'buf2d_draw',0	sz_buf2d_delete db 'buf2d_delete',0	sz_buf2d_line db 'buf2d_line',0	sz_buf2d_rect_by_size db 'buf2d_rect_by_size',0	sz_buf2d_filled_rect_by_size db 'buf2d_filled_rect_by_size',0	sz_buf2d_circle db 'buf2d_circle',0	sz_buf2d_img_hdiv2 db 'buf2d_img_hdiv2',0	sz_buf2d_img_wdiv2 db 'buf2d_img_wdiv2',0	sz_buf2d_conv_24_to_8 db 'buf2d_conv_24_to_8',0	sz_buf2d_conv_24_to_32 db 'buf2d_conv_24_to_32',0	sz_buf2d_bit_blt db 'buf2d_bit_blt',0	sz_buf2d_bit_blt_transp db 'buf2d_bit_blt_transp',0	sz_buf2d_bit_blt_alpha db 'buf2d_bit_blt_alpha',0	sz_buf2d_curve_bezier db 'buf2d_curve_bezier',0	sz_buf2d_convert_text_matrix db 'buf2d_convert_text_matrix',0	sz_buf2d_draw_text db 'buf2d_draw_text',0	sz_buf2d_crop_color db 'buf2d_crop_color',0	sz_buf2d_offset_h db 'buf2d_offset_h',0	sz_buf2d_flood_fill db 'buf2d_flood_fill',0	sz_buf2d_set_pixel db 'buf2d_set_pixel',0