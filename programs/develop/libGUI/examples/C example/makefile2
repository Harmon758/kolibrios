OUTFILE = interface.kex
INPUT   = interface.c
OUTPUT  = interface.o
OBJS    = start.o interface.o 


.SUFFIXES: .asm .o

$(OUTFILE) : $(OBJS)
	fasm start.asm start.o
	gcc -c $(INPUT) -nostdinc -I/home/andrew/kolibri/develop/include/
	ld -nostdlib -T kolibri.ld -n -L/home/andrew/kolibri/develop/lib/ -o $(OUTFILE) $(OBJS) -lck -lm
	objcopy $(OUTFILE) -O binary

.asm.o:
	fasm $*.asm

.c.o:
	gcc -c $*.c

clean :
	del *.o
