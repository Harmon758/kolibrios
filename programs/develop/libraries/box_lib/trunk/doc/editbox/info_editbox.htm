<html>
<head>
<title>элемент Edit Box</title>
<meta http-equiv="content-type" content="text/html; charset=WINDOWS-1251">
<link href="../style.css" type=text/css rel=stylesheet>
</head>
<body>
<p><a href="../box_lib.htm">На главную &uarr;</a></p>
<h1>Оглавление</h1>
<p><a href="#vveden">Введение</a></p>
<p><a href="#funct">Функции</a></p>
<ul>
<li><a href="#fun_key">edit_box_key</a></li>
<li><a href="#fun_mouse">edit_box_mouse</a></li>
<li><a href="#fun_draw">edit_box_draw</a></li>
<li><a href="#fun_set_text">edit_box_set_text</a></li>
<li><a href="#version">version_ed</a></li>
</ul>
<p><a href="#struc_editbox">Структура editbox</a></p>
<p><a href="#editbox_styles">Стили элемента</a></p>

<h1><a name="vveden">Введение</a></h1>
<p>Текстовое поле, используется при вводе текстовой/числовой информации.</p>
<p><img src="window_fasm.png"></p>
<p>Рис. 1. Окно программы fasm с 3-мя элементами EditBox</p>

<h1><a name="funct">Функции</a></h1>

<h2><a name="fun_key">edit_box_key</a></h2>
<p>Эта функция должна вызыватся при вводе информации с клавиатуры.</p>

<h2><a name="fun_mouse">edit_box_mouse</a></h2>
<p>Эта функция должна вызыватся при вводе информации с мыши.</p>

<h2><a name="fun_draw">edit_box_draw</a></h2>
<p>Эта функция должна вызыватся при вводе перерисовке элемента.</p>

<h2><a name="fun_set_text">edit_box_set_text</a></h2>
<p>Эта функция копирует текст из указателя в текстовое поле. Если текст в указателе окажется длиннее чем допустимый в элементе edit_box, то он запишется не весь. После вызова данной функции необходимо перерисовать окно функцией edit_box_draw, иначе изменения будут сразу не видны. Пример использования:</p>
<pre>	push dword buf
	push dword edit1
	call dword [edit_box_set_text]
.........
buf db '111-222-333',0</pre>
<p>где <b>edit1</b> - структура элемента edit_box; <b>buf</b> - буфер, в котором содержится устанавливаемый текст.</p>

<h2><a name="version">version_ed</a></h2>
<p>Версия элемента</p>

<h1><a name="struc_editbox">Структура editbox</a></h1>
<p>Размер структуры editbox указан внутри файла <i>box_lib.mac</i> в параметре <b>ed_struc_size</b>.</p>
<pre>struc  edit_box width,left,top,color,shift_color,focus_border_color,\
       blur_border_color,text_color,max,text,mouse_variable,flags,size,pos
{
.width dd width
.left  dd left
.top   dd top
.color dd color
.shift_color dd shift_color
.focus_border_color dd focus_border_color
.blur_border_color  dd blur_border_color
.text_color dd text_color
.max  dd max
.text dd text
.mouse_variable dd mouse_variable
.flags  dd flags+0
.size   dd size+0
.pos    dd pos+0
.offset dd 0
.cl_curs_x dd 0
.cl_curs_y dd 0
.shift     dd 0
.shift_old dd 0
}</pre>
<p><b>width</b> - ширина элемента.</p>
<p><b>left</b> - отступ слева (положение по x).</p>
<p><b>top</b> - отступ сверху (положение по y).</p>
<p><b>color</b> - цвет фона.</p>
<p><b>shift_color</b> - цвет выделения при удерживании [<b>Shift</b>] или мышкой.</p>
<p><b>focus_border_color</b> - цвет рамки когда поле в фокусе.</p>
<p><b>blur_border_color</b> - цвет рамки когда поле не в фокусе.</p>
<p><b>text_color</b> - цвет текста.</p>

<h1><a name="editbox_styles">Стили элемента</a></h1>

<h2>ed_figure_only</h2>
<p>Разрешается ввод чисел от 0 до 9.</p>
<h2>ed_focus</h2>
<p>Текстовое поле в фокусе.</p>
<h2>ed_pass</h2>
<p>Поле для ввода пароля, все введенные символы отображаются звездами.</p>

<hr>
<p>Документация обновлялась последний раз 27.11.10.</p>
</body>
</html>